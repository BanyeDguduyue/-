{"version":3,"sources":["webpack:///D:/项目/网易云音乐/我的音乐/components/bmusic.vue?d2e1","webpack:///D:/项目/网易云音乐/我的音乐/components/bmusic.vue?13ff","webpack:///D:/项目/网易云音乐/我的音乐/components/bmusic.vue?f327","webpack:///D:/项目/网易云音乐/我的音乐/components/bmusic.vue?e759","webpack:///D:/项目/网易云音乐/我的音乐/components/bmusic.vue","webpack:///D:/项目/网易云音乐/我的音乐/components/bmusic.vue?308c","webpack:///D:/项目/网易云音乐/我的音乐/components/bmusic.vue?b40c"],"names":["props","data","nowlocation","width","query","ismove","computed","stoporplay","$store","state","musicisplay","ballmove","getters","progress","toFixed","mounted","uni","createSelectorQuery","in","select","boundingClientRect","exec","methods","handleMusic","innerAudioContext","src","showModal","content","showCancel","commit","nextmusic","nowsong","nexitem","songList","forEach","item","idx","id","i","length","request","url","method","success","res","fail","complete","premusic","touchstart","e","left","JSON","stringify","touches","pageX","touchmove","touchend"],"mappings":"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","file":"components/bmusic.js","sourcesContent":["import { render, staticRenderFns } from \"./bmusic.vue?vue&type=template&id=cd0b5e08&\"\nimport script from \"./bmusic.vue?vue&type=script&lang=js&\"\nexport * from \"./bmusic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bmusic.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\software\\\\EN\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('cd0b5e08', component.options)\n    } else {\n      api.reload('cd0b5e08', component.options)\n    }\n    module.hot.accept(\"./bmusic.vue?vue&type=template&id=cd0b5e08&\", function () {\n      api.rerender('cd0b5e08', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"项目/网易云音乐/我的音乐/components/bmusic.vue\"\nexport default component.exports","export * from \"-!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bmusic.vue?vue&type=template&id=cd0b5e08&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bmusic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bmusic.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  export default {\n    props: ['songList'],\n    data() {\n      return {\n        nowlocation: '',\n        width: 0,\n        query: null,\n        // 控制滑块不要乱跑\n        ismove: false\n      }\n    },\n    computed: {\n      stoporplay(){\n        if(!this.$store.state.musicisplay){\n          return 'play'\n        }else{\n          return 'stop'\n        }\n      },\n      ballmove() {\n        if(this.ismove){\n          return 0\n        }else{\n          return (this.$store.getters.progress * this.width * 0.01).toFixed(2)\n        }\n      }\n    },\n    mounted() {\n      const query = uni.createSelectorQuery().in(this);\n      query.select('.progress-box').boundingClientRect(data => {\n        this.width = data.width\n      }).exec();\n    },\n    methods: {\n      // 处理音乐\n      handleMusic() {\n        // 判断是否有src属性\n        if (!this.$store.state.innerAudioContext.src) {\n          uni.showModal({\n            content: '请播放一个音乐',\n            showCancel: false\n          });\n          return\n        }\n        // 判断是否是播放状态\n        if (!this.$store.state.musicisplay) {\n          this.$store.commit('playMusic')\n        } else {\n          this.$store.commit('pauseMusic')\n        }\n      },\n      // 下一首\n      nextmusic() {\n        const nowsong = this.$store.state.nowsong\n\n        let nexitem\n        this.songList.forEach((item, idx) => {\n          if (item.id == nowsong) {\n            const i = idx + 1 == this.songList.length ? 0 : idx + 1\n            nexitem = this.songList[i]\n          }\n        })\n        uni.request({\n          url: 'http://192.168.137.1:3000/song/url?id=' + nexitem.id,\n          method: 'GET',\n          data: {},\n          success: res => {\n            const url = res.data.data[0].url\n            this.$store.commit('getMusicAndPlay', {\n              src: url,\n              id: nexitem.id\n            })\n          },\n          fail: () => {},\n          complete: () => {}\n        });\n      },\n      // 上一首\n      premusic() {\n\n        const nowsong = this.$store.state.nowsong\n\n        let nexitem\n        this.songList.forEach((item, idx) => {\n          if (item.id == nowsong) {\n            const i = idx == 0 ? this.songList.length - 1 : idx - 1\n            nexitem = this.songList[i]\n          }\n        })\n        uni.request({\n          url: 'http://192.168.137.1:3000/song/url?id=' + nexitem.id,\n          method: 'GET',\n          data: {},\n          success: res => {\n            const url = res.data.data[0].url\n            this.$store.commit('getMusicAndPlay', {\n              src: url,\n              id: nexitem.id\n            })\n          },\n          fail: () => {},\n          complete: () => {}\n        });\n      },\n      touchstart(e) {\n        this.ismove = true\n        const query = uni.createSelectorQuery().in(this)\n        // 获取当前距离最左边的距离\n        query.select('.control-ball').boundingClientRect(data => {\n          const left = JSON.stringify(data).left\n          const nowlocation = e.touches[0].pageX\n          // 进度条距离最左边的距离\n          this.nowlocation = nowlocation - left\n        }).exec();\n      },\n      touchmove(e) {\n//         // 如果没放歌就不能拖动\n//         if (!this.$store.state.innerAudioContext.src) {\n//           return\n//         }\n//         // 不能拉出进度条的范围\n//         if (e.touches[0].pageX < this.nowlocation) {\n//           this.$refs.ball.$el.style.left = 0\n// \n//         } else if (e.touches[0].pageX > (this.width + this.nowlocation)) {\n//           this.$refs.ball.$el.style.left = this.width + 'px'\n//         } else {\n//           this.$refs.ball.$el.style.left = (e.touches[0].pageX - this.nowlocation) + 'px'\n//         }\n      },\n      touchend() {\n        this.ismove = false\n        // console.log(this.$refs.ball.$el.style.left);\n        // parseInt(this.$refs.ball.$el.style.left) * 100 / this.width\n      }\n    }\n  }\n","import mod from \"-!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bmusic.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../software/EN/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bmusic.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}